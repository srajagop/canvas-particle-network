!function(a){var b="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;"function"==typeof define&&define.amd?define(["exports"],function(c){b.ParticleNetwork=a(b,c)}):"object"==typeof module&&module.exports?module.exports=a(b,{}):b.ParticleNetwork=a(b,{})}(function(a,b){var c=function(a){this.canvas=a.canvas,this.g=a.g,this.particleColor=a.options.particleColor,this.opacity=a.options.opacity,this.h=a.h,this.x=Math.random()*this.canvas.width,this.y=Math.random()*this.canvas.height,this.velocity={x:(Math.random()-.5)*a.options.velocity,y:(Math.random()-.5)*a.options.velocity}};return c.prototype.update=function(){(this.x>this.canvas.width+20||this.x<-20)&&(this.velocity.x=-this.velocity.x),(this.y>this.canvas.height+20||this.y<-20)&&(this.velocity.y=-this.velocity.y),this.x+=this.velocity.x,this.y+=this.velocity.y},c.prototype.i=function(){this.g.beginPath(),this.g.fillStyle=this.particleColor,this.g.globalAlpha=this.opacity,this.g.arc(this.x,this.y,1.5,0,2*Math.PI),this.g.fill()},b=function(a,b){this.j=a,this.j.size={width:this.j.offsetWidth,height:this.j.offsetHeight},b=void 0!==b?b:{},this.options={particleColor:void 0!==b.particleColor?b.particleColor:"#fff",background:void 0!==b.background?b.background:"#1a252f",interactive:void 0===b.interactive||b.interactive,velocity:this.setVelocity(b.speed),density:this.k(b.density),opacity:void 0!==b.opacity?b.opacity:"1"},this.init()},b.prototype.init=function(){if(this.l=document.createElement("div"),this.j.appendChild(this.l),this.m(this.l,{position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":1}),/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.options.background))this.m(this.l,{background:this.options.background});else{if(!/\.(gif|jpg|jpeg|tiff|png)$/i.test(this.options.background))return console.error("Please specify a valid background image or hexadecimal color"),!1;this.m(this.l,{background:'url("'+this.options.background+'") no-repeat center',"background-size":"cover"})}if(!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.options.particleColor))return console.error("Please specify a valid particleColor hexadecimal color"),!1;this.canvas=document.createElement("canvas"),this.j.appendChild(this.canvas),this.g=this.canvas.getContext("2d"),this.canvas.width=this.j.size.width,this.canvas.height=this.j.size.height,this.m(this.j,{position:"relative"}),this.m(this.canvas,{"z-index":"20",position:"relative"}),window.addEventListener("resize",function(){return(this.j.offsetWidth!==this.j.size.width||this.j.offsetHeight!==this.j.size.height)&&(this.canvas.width=this.j.size.width=this.j.offsetWidth,this.canvas.height=this.j.size.height=this.j.offsetHeight,clearTimeout(this.o),void(this.o=setTimeout(function(){this.p=[];for(var a=0;a<this.canvas.width*this.canvas.height/this.options.density;a++)this.p.push(new c(this));this.options.interactive&&this.p.push(this.q),requestAnimationFrame(this.update.bind(this))}.bind(this),500)))}.bind(this)),this.p=[];for(var a=0;a<this.canvas.width*this.canvas.height/this.options.density;a++)this.p.push(new c(this));this.options.interactive&&(this.q=new c(this),this.q.velocity={x:0,y:0},this.p.push(this.q),this.canvas.addEventListener("mousemove",function(a){this.q.x=a.clientX-this.canvas.offsetLeft,this.q.y=a.clientY-this.canvas.offsetTop}.bind(this)),this.canvas.addEventListener("mouseup",function(a){this.q.velocity={x:(Math.random()-.5)*this.options.velocity,y:(Math.random()-.5)*this.options.velocity},this.q=new c(this),this.q.velocity={x:0,y:0},this.p.push(this.q)}.bind(this))),requestAnimationFrame(this.update.bind(this))},b.prototype.update=function(){this.g.clearRect(0,0,this.canvas.width,this.canvas.height),this.g.globalAlpha=1;for(var a=0;a<this.p.length;a++){this.p[a].update(),this.p[a].i();for(var b=this.p.length-1;b>a;b--){var c=Math.sqrt(Math.pow(this.p[a].x-this.p[b].x,2)+Math.pow(this.p[a].y-this.p[b].y,2));c>120||(this.g.beginPath(),this.g.strokeStyle=this.options.particleColor,this.g.globalAlpha=(120-c)/120,this.g.lineWidth=.7,this.g.moveTo(this.p[a].x,this.p[a].y),this.g.lineTo(this.p[b].x,this.p[b].y),this.g.stroke())}}0!==this.options.velocity&&requestAnimationFrame(this.update.bind(this))},b.prototype.setVelocity=function(a){return"fast"===a?1:"slow"===a?.33:"none"===a?0:.66},b.prototype.k=function(a){return"high"===a?5e3:"low"===a?2e4:isNaN(parseInt(a,10))?1e4:a},b.prototype.m=function(a,b){for(var c in b)a.style[c]=b[c]},b.prototype.h=function(a,b){var c;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(a))return c=a.substring(1).split(""),3===c.length&&(c=[c[0],c[0],c[1],c[1],c[2],c[2]]),c="0x"+c.join(""),1!==b?"rgba("+[c>>16&255,c>>8&255,255&c].join(",")+","+b+")":"rgb("+[c>>16&255,c>>8&255,255&c].join(",")+")";throw new Error("Bad Hex")},b});